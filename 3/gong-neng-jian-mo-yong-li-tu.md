# 功能建模 -- 用例图

## 功能建模 -- 用例图

**用例建模** 用于描述系统需求, 把系统当做黑盒, **`从用户的角度, 描述系统的场景`.** 主要图形元素有以下几个:

* **参与者** ![](../.gitbook/assets/image%20%2820%29.png) 
  * 是指外部用户或外部实体在系统中扮演的角色.  **可以是`一个人, 一个计算机子系统, 硬件设备`** 或者**`时间`** 等 角色.
* **用例** ![](../.gitbook/assets/image%20%28118%29.png) 
  * 对**`一组`**动作序列的描述, 系统通过执行**`这一组动作序列`**为参与者**`产生`**一个可观察的结果.  用例名往往用动宾结构命名.
* **执行关联** ![](../.gitbook/assets/image%20%2869%29.png) 
  * 参与者\(Actor\)  执行用例 \(Use Case\) 之间的关系.

### 用例建模的过程

1. 建立用例模型的**`顺序`**是:
   1. 确定谁会**`直接使用`**该系统. 这些都是参与者 \(Actor\).
   2. 选取其中一个参与者.
   3. 定义该参与者 **`希望系统做什么`** , 参与者希望系统作的每件事称为一个用例.
   4. 对每件事来说,  **`何时`**参与者会使用系统, 通常会**`发生什么`**,  这就是用例的基本过程.
   5. 描述该用例的**`基本过程`**.
   6. **考虑一些可变情况,  把他们创建为`扩展用例.`**
   7. 复审不同用例的描述, 找出其中的相同点, **`抽出相同点`**作为共同的用例.
   8. 重复 2~7 找出每个用例.

### 用例图初步

#### 1. 参与者

* 参与者 \(actor\) 是指系统以外的, 需要使用系统或系统交互的东西, 包括人, 设备 , 外部系统等.
* **参与者的三种表示形式.**

![&#x53C2;&#x4E0E;&#x8005;&#x7684;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;](../.gitbook/assets/image%20%28157%29.png)

#### 如何确定参与者

* 在获取用例前 **`首先要确定系统的参与者`**, 开发人员可以通过回答以下的问题来寻找系统的参与者.
  * 回答一下问题来寻找系统的参与者.
    * 谁将**`使用`**该系统的主要功能?
    * 谁将**`需要该系统的支持`** 已完成其工作?
    * 谁将需要**`维护,管理该系统`**, 以及保持该系统处于工作状态?
    * 系统需要处理哪些**`硬件设备?`**
    * 与该系统**`交互的是什么系统?`**
    * 谁或什么系统对本系统产生的**`结果感兴趣?`**

![&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;](../.gitbook/assets/image%20%28128%29.png)

#### 2.  用例 \(Use Case\)

* **`用例`的定义**
  * 对**`一组`**动作序列的描述,  系统通过执行**`这一组动作序列`** 为参与者**`产生`**一个可观察的结果.
* **`用例`特征**
  * 说明了系统具有一种行为模型.
  * 说明了一个参与者与系统执行的一个相关的事情序列.
  * 提供了一种获取系统需求的方法.
  * 提供了一种与最终的**`用户`**和**`领域专家`**进行**`沟通的方法.`**
  * 提供了一种**`测试系统`**的方法
* **图形表示**
  * 用椭圆形表示

#### 获取用例

* 参与者希望用户执行什么任务?
* 参与者在系统中访问哪些信息 \(创建,存储,修改,删除等\)?
* 需要将哪些外界信息提供给系统?
* 需要将系统的什么事情告诉参与者?
* 如何维护系统?

![&#x4E09;&#x79CD;&#x53C2;&#x4E0E;&#x8005; &#x5206;&#x522B;&#x505A;&#x7684;&#x4E8B;&#x60C5;](../.gitbook/assets/image%20%2822%29.png)

#### 系统和关联

* **系统** 
  * 用于界定系统功能范围, 描述该系统功能的用例都置于其中, 而描述外部实体的参与者都置于其外
  * **常用一个矩形框表示** ![](../.gitbook/assets/image%20%28187%29.png) 
* **关联**
  * 连接参与者和用例, 表示参与者所代表的系统外部实体与该用例所所描述的系统需求有关.
  * **常用一条直线表示**  ![](../.gitbook/assets/image%20%28139%29.png) 

![&#x81EA;&#x52A8;&#x552E;&#x8D27;&#x673A;&#x7CFB;&#x7EDF; &#x521D;&#x6B65;&#x7684;&#x7528;&#x4F8B;&#x56FE;](../.gitbook/assets/image%20%2825%29.png)

#### 建立用例模型的顺序是:

1. 确定谁会**`直接使用`**该系统. 那些都是参与者 \(Actor\).
2. 选取其中一个参与者.
3. 定义该参与者**`希望系统做什么,`** 参与者希望系统做的每件事成为一个用例.
4. 对每件事来说, **`何时`**参与者会使用系统, 通常会**`发生什么,`** **这就是用例的基本过程.**
5. 描述该用例的**`基本过程`**.
6. **考虑一些可变情况, 把他们创建为`扩展用例.`**
7. 复审不同用例的描述, 找出其中的相同点,  **`抽出相同点`**作为共同的用例.
8. **重复步骤2 ~ 7  找出每一个用例.**

![&#x7528;&#x4F8B;&#x6269;&#x5C55;&#x540E;&#x7684;  &#x81EA;&#x52A8;&#x552E;&#x8D27;&#x673A; &#x7528;&#x4F8B;&#x56FE;](../.gitbook/assets/image%20%28185%29.png)

### 用例图进阶

#### 用例之间的关系

* 关联  \(Association\);
* 泛化  \(inheritance\);
* 包含  \(include;\)
* 扩展  \(extend\).

**`只有`** `关联` **`是参与者和用户之间的通信,  其他三种都是用例与用例之间的通信.`**



#### 1. 关联  \(Association\)

**表示`参与者`与`用例之间`的通信,  任何一方都可发送或接受消息.**

**\[箭头指向\] : `指向消息接受方`   , \(参与者是可以参与多个用例的,由此形成子系统\)**

![&#x5173;&#x8054; , &#x53C2;&#x4E0E;&#x8005;&#x4E0E;&#x7528;&#x4F8B;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;](../.gitbook/assets/image%20%28192%29.png)

#### 2. 泛化 \(inheritance\)

就是通常理解的**`继承关系`**, **`子用例`**和**`父用例`**相似, **但表现出更特别的行为**;  **子用例将继承父用例的所有结构, 行为和关系.**  **子用例可以使用父用例的一段行为,  也可以重载它.  父用例通常是抽象的.**

用例之间的 **`is a kind of`** 关系, 表示用例之间的场景共享;  Actor 之间的 **`is a kind of`** 关系, 一般**描述职责共享.**

**`泛化 是用例与用例之间的通信.`**

**\[箭头指向\]**  :   **`由子用例指向父用例 , (是空心箭头指向)`**

![&#x5B50;&#x7528;&#x4F8B;&#x6307;&#x5411;&#x7236;&#x7528;&#x4F8B;,  &#x662F;&#x7A7A;&#x5FC3;&#x7BAD;&#x5934;](../.gitbook/assets/image%20%28177%29.png)

#### 3. 包含 \( include\)

包含关系用来把 **`一个较复杂用例`** 所表示的 **`功能分解成较小`**的步骤. 一个用例可以包括另外一个用例.

**`包含 是用例与用例之间的通信.`**

\[**箭头指向**\] : **`由父用例指向子用例, 指向分解出来的功能用例, (因为是分解, 所以是虚线箭头)`**

![&#x5305;&#x542B;, &#x7236;&#x7528;&#x4F8B;&#x6307;&#x5411;&#x5B50;&#x7528;&#x4F8B; , &#x4F7F;&#x7528;&#x865A;&#x7EBF;&#x7BAD;&#x5934;](../.gitbook/assets/image%20%2884%29.png)

#### 4. 扩展 \(Extend\)

扩展关系是指用例功能的**`延伸`**, 相当于为基础用例提供一个附加功能. 由一个用例的扩展点 可以**`扩展`**出另外一个用例.

**`扩展 是用例与用例之间的通信.`**

**\[箭头指向\] : `指向基础用例 , (扩展出来的功能,来执行需要扩展的用例), 使用虚线箭头`**

![&#x6269;&#x5C55;&#x7528;&#x4F8B;, &#x662F;&#x7528;&#x865A;&#x7EBF;&#x7BAD;&#x5934;](../.gitbook/assets/image%20%28216%29.png)

#### 包含 \(include\) , 扩展\(extend\) 的区别:

* 在**`扩展关系`**中, 一个基本用例执行时, **`可以执行`**, **`也可以不执行`** 扩展用例部分.
* 在**`包含关系`**中, 在执行基本用例时, **`一定会执行`**包含用例部分.

#### 关联, 包含, 扩展, 泛化 的区别:

![&#x5173;&#x8054;, &#x5305;&#x542B;, &#x6269;&#x5C55;, &#x6CDB;&#x5316; &#x7684;&#x533A;&#x522B;:](../.gitbook/assets/image%20%28141%29.png)

#### 用例实例一 :图书借阅系统用例图

![&#x56FE;&#x4E66;&#x501F;&#x9605;&#x7CFB;&#x7EDF;&#x7528;&#x4F8B;&#x56FE;](../.gitbook/assets/image%20%28221%29.png)



