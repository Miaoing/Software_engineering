# 白盒测试

## 白盒测试

**白盒测试 :**   考虑系统或组件的内部机制的测试形势.

* 把测试对象看做一个透明盒子,  允许利用程序内部逻辑结构及有关信息, 进行测试.
* 通过在不同点检查程序状态,  确定时间的状态是否与预期的状态一致.
* 白盒测试 又称结构测试或逻辑驱动测试

### 检测范围

* 对程序模块的 **`所有独立的执行路径`** 至少检测一次.
* 对 **`所有的执行判断`** , 取 "真" 或取 "假" 的两种情况都至少测试一次.
* 在 **`循环的边界和运行界限内`** 执行循环体.
* 测试 **`内部数据结构`** 的有效性等.

**完整性测试的困难 :** 对一个具有多重选择 和循环嵌套的程序, 不同的路径数目可能是天文数字.

![&#x5B8C;&#x6574;&#x6027;&#x6D4B;&#x8BD5;&#x592A;&#x8FC7;&#x4E8E;&#x8017;&#x65F6;](../../.gitbook/assets/image.png)

### 逻辑测试

**逻辑测试 :**  以程序内部的逻辑结构为基础设计测试用例的技术.

* **逻辑测试包括如下内容**
  * **语句覆盖**
  * **分支覆盖**
  * **条件覆盖**
  * **条件组合覆盖**

![&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x6709;4&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x6D41;&#x7A0B;](../../.gitbook/assets/image%20%28322%29.png)

![&#x56DB;&#x6761;&#x4E0D;&#x540C;&#x8DEF;&#x5F84;&#x7684;&#x5224;&#x65AD;&#x6761;&#x4EF6; L1](../../.gitbook/assets/image%20%28180%29.png)

![L2](../../.gitbook/assets/image%20%28190%29.png)



![L3](../../.gitbook/assets/image%20%28119%29.png)

![L4](../../.gitbook/assets/image%20%2861%29.png)

### 语句覆盖

**语句覆盖** : 就是设计若干个测试用例, 运行被测程序, 使得每一可执行语句至少执行一次.

![&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x4EE3;&#x7801;](../../.gitbook/assets/image%20%28133%29.png)

![&#x6D4B;&#x8BD5;&#x6761;&#x4EF6;&#x5177;&#x4F53;&#x548C;&#x6267;&#x884C;](../../.gitbook/assets/image%20%28144%29.png)

### 分支覆盖

**分支覆盖 :** 就是设计若干个测试用例, 运行被测试程序, 使得程序中每个判断的取 "真分支" 和 "假分支" 至少经历一次. 分支覆盖又称为**判定覆盖.**

![](../../.gitbook/assets/image%20%28281%29.png)

### 条件覆盖

**条件覆盖:** 设计若干个测试用例, 运行被测程序, 使得程序中每个判断的每个条件的可能取值至少执行一次

![](../../.gitbook/assets/image%20%28283%29.png)

### 条件组合覆盖

**条件组合覆盖 :** 设计足够的测试用例,  运行被测程序, 使得每个判断的所有可能的条件取值组合至少执行一次.

![](../../.gitbook/assets/image%20%28272%29.png)



## **控制流图覆盖测试**

**控制流图覆盖测试 :**   是将代码转变为控制流图 \(CFG\) , 基于其进行测试的技术.

![&#x63A7;&#x5236;&#x6D41;&#x56FE;&#x7ED3;&#x6784;&#x548C;&#x56FE;&#x6807;](../../.gitbook/assets/image%20%28262%29.png)

### 单条件嵌套

**单条件嵌套 :** 如果判断中的条件表达式 是由一个或多个逻辑运算符 \(OR, AND , NAND , NOR\) 连接的符合条件表达式, 则需要改为一系列只有单个条件的嵌套的判断.

![](../../.gitbook/assets/image%20%2853%29.png)

### 节点覆盖 和 边覆盖

* **节点覆盖**
  * 对图的每个节点, 至少要有一条测试路径访问该节点
  * 显然, 节点覆盖 = 语句覆盖
* **边覆盖**
  * 对图中每一个可到达的长度小于 \(无边图\) 等于1 的路径, 中至少存在一条测试路径覆盖.
  * 显然, 边覆盖包含节点覆盖, 且边覆盖也可以实现节点覆盖.

### 路径覆盖

**路径覆盖 :** 就是设计足够的测试用例, 覆盖程序中所有可能的路径.

![](../../.gitbook/assets/image%20%28294%29.png)

### 基本路径覆盖

**基本路径测试 :** 将覆盖的路径数压缩到一定限度内, 程序中的循环体 最多只执行一次.

1. 首先绘制程序流图
2. 分析控制构造的环路复杂性.
3. 导出基本可执行路径集合.
4. 设计测试用例的, 保证在测试中, 程序的每一个可执行语句至少要执行一次.

**程序的环路复杂性 :** 程序基本路径集中的独立路径条数, 这是确保程序中每个可执行语句至少执行一次所必须的测试用例数目的上界.

**独立路径 :** 从控制流图来看, 一条独立路径是至少包含有一条在其他独立路径中从未有过的边的路径.

**计算方法:** ![](../../.gitbook/assets/image%20%2840%29.png) 



#### 寻找独立路径的基本集合

* **确定线性独立路径的基本集合**
  * 从源节点\( 控制流图的入口点\) 开始, 一直走到汇节点 \(控制流图的出口点\) . 该路径作为及`基线路径.`
  * 接下来, 重新回溯基线路径, 依次 "翻转" 在判断节点上原来选择路径. 即当遇到节点的出度岛屿等于2 时, `必须选择不同的边`.
  * 重复以上过程,  直到得到的路径数目等于 V\(G\).

![&#x786E;&#x5B9A;&#x72EC;&#x7ACB;&#x8DEF;&#x5F84;&#x7684;&#x57FA;&#x672C;&#x8FC7;&#x7A0B;](../../.gitbook/assets/image%20%28232%29.png)

**找到了独立路径的基本集合后就需要进行如下操作了:**

* **导出测试用例**
  * 确保基本路径集的每一条路径的执行.
* **选择测试用例**
  * 根据判断节点给出的条件, 选择合适用例以保证其一条路径可以被测试到.
* **测试结果比较**
  * 测试执行后, 与预期结果进行比较.
* **注意事项**
  * 非孤立的独的路径可以是另一条路径测试的一部分.











